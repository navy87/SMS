<?xml version = "1.0" encoding = "UTF-8"?>
<!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN"
        "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">
<jasperReport xmlns = "http://jasperreports.sourceforge.net/jasperreports"
              xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation = "http://jasperreports.sourceforge.net/jasperreports
   http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
              name = "ItemTransactionSummaryReport" language = "java" pageWidth = "595"
              pageHeight = "842" columnWidth = "555" leftMargin = "20" rightMargin = "20"
              topMargin = "20" bottomMargin = "20">

    <field name="item.name" class="java.lang.String"/>
    <field name="initialQuantity" class="java.lang.Integer" />
    <field name="unitPrice" class="java.lang.Double" />
    <field name="transaction.transactionDate" class="java.time.LocalDate" />
    <field name="transaction.customer.name" class="java.lang.String" />
    <field name="transaction.user.username" class="java.lang.String" />

    <columnHeader>
        <band height="23">
            <line>
                <reportElement x="0" y="15" width="585" height="1" />
                <graphicElement pen="1Point" fill="Solid" stretchType="RelativeToBandHeight"/>
            </line>
            <staticText>
                <reportElement x="0" y="3" width="100" height="15" />
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" />
                </textElement>
                <text><![CDATA[Customer]]></text>
            </staticText>
            <staticText>
                <reportElement x="100" y="3" width="75" height="15" />
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" />
                </textElement>
                <text><![CDATA[Date]]></text>
            </staticText>
            <staticText>
                <reportElement x="175" y="3" width="100" height="15" />
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" />
                </textElement>
                <text><![CDATA[Item]]></text>
            </staticText>
            <staticText>
                <reportElement x="275" y="3" width="50" height="15" />
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" />
                </textElement>
                <text><![CDATA[Quantity]]></text>
            </staticText>
            <staticText>
                <reportElement x="325" y="3" width="50" height="15" />
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" />
                </textElement>
                <text><![CDATA[Unit Price]]></text>
            </staticText>
            <staticText>
                <reportElement x="375" y="3" width="100" height="15" />
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" />
                </textElement>
                <text><![CDATA[By]]></text>
            </staticText>
            <staticText>
                <reportElement x="475" y="3" width="50" height="15" />
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" />
                </textElement>
                <text><![CDATA[Total Price]]></text>
            </staticText>
        </band>
    </columnHeader>

    <detail>
        <band height="16">
            <line>
                <reportElement x="0" y="15" width="585" height="1" forecolor="#CCCCCC" />
            </line>
            <textField>
                <reportElement x="0" y="0" width="100" height="15" />
                <textElement textAlignment="Left" verticalAlignment="Middle">
                </textElement>
                <textFieldExpression><![CDATA[$F{transaction.customer.name}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="100" y="0" width="75" height="15" />
                <textElement textAlignment="Left" verticalAlignment="Middle">
                </textElement>
                <textFieldExpression class="java.time.LocalDate">
                    <![CDATA[$F{transaction.transactionDate}]]>
                </textFieldExpression>
            </textField>
            <textField>
                <reportElement x="175" y="0" width="100" height="15" />
                <textElement textAlignment="Left" verticalAlignment="Middle">
                </textElement>
                <textFieldExpression>
                    <![CDATA[$F{item.name}]]>
                </textFieldExpression>
            </textField>
            <textField>
                <reportElement x="275" y="0" width="50" height="15" />
                <textElement textAlignment="Right" verticalAlignment="Middle">
                </textElement>
                <textFieldExpression>
                    <![CDATA[$F{initialQuantity}]]>
                </textFieldExpression>
            </textField>
            <textField>
                <reportElement x="325" y="0" width="50" height="15" />
                <textElement textAlignment="Right" verticalAlignment="Middle">
                </textElement>
                <textFieldExpression>
                    <![CDATA[$F{unitPrice}]]>
                </textFieldExpression>
            </textField>
            <textField>
                <reportElement x="375" y="0" width="100" height="15" />
                <textElement textAlignment="Right" verticalAlignment="Middle">
                </textElement>
                <textFieldExpression>
                    <![CDATA[$F{transaction.user.username}]]>
                </textFieldExpression>
            </textField>
            <textField>
                <reportElement x="475" y="0" width="100" height="15" />
                <textElement textAlignment="Right" verticalAlignment="Middle">
                </textElement>
                <textFieldExpression>
                    <![CDATA[new Double($F{unitPrice} * $F{initialQuantity})]]>
                </textFieldExpression>
            </textField>
        </band>
    </detail>

</jasperReport>